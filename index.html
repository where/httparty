<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>HTTParty by jnunemaker</title>
    
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>HTTParty</h1>
        <p>Makes http fun again!</p>
        <p class="view"><a href="https://github.com/jnunemaker/httparty">View the Project on GitHub <small>jnunemaker/httparty</small></a></p>
        <ul>
          <li><a href="https://github.com/jnunemaker/httparty/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jnunemaker/httparty/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jnunemaker/httparty">Fork On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>Install</h2>

<pre><code>gem install httparty
</code></pre>

<h2>Requirements</h2>

<ul>
<li>multi_json and multi_xml</li>
<li>You like to party!</li>
</ul><h2>Examples</h2>

<div class="highlight">
<pre><span class="c1"># Use the class methods to get down to business quickly</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://twitter.com/statuses/public_timeline.json'</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">inspect</span>

<span class="n">response</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">item</span><span class="o">[</span><span class="s1">'user'</span><span class="o">][</span><span class="s1">'screen_name'</span><span class="o">]</span>
<span class="k">end</span>

<span class="c1"># Or wrap things up in your own class</span>
<span class="k">class</span> <span class="nc">Twitter</span>
  <span class="kp">include</span> <span class="no">HTTParty</span>
  <span class="n">base_uri</span> <span class="s1">'twitter.com'</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="nb">p</span><span class="p">)</span>
    <span class="vi">@auth</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:username</span> <span class="o">=&gt;</span> <span class="n">u</span><span class="p">,</span> <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="nb">p</span><span class="p">}</span>
  <span class="k">end</span>

  <span class="c1"># which can be :friends, :user or :public</span>
  <span class="c1"># options[:query] can be things like since, since_id, count, etc.</span>
  <span class="k">def</span> <span class="nf">timeline</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="ss">:friends</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{})</span>
    <span class="n">options</span><span class="o">.</span><span class="n">merge!</span><span class="p">({</span><span class="ss">:basic_auth</span> <span class="o">=&gt;</span> <span class="vi">@auth</span><span class="p">})</span>
    <span class="nb">self</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/statuses/</span><span class="si">#{</span><span class="n">which</span><span class="si">}</span><span class="s2">_timeline.json"</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:query</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:status</span> <span class="o">=&gt;</span> <span class="n">text</span><span class="p">},</span> <span class="ss">:basic_auth</span> <span class="o">=&gt;</span> <span class="vi">@auth</span> <span class="p">}</span>
    <span class="nb">self</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/statuses/update.json'</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">twitter</span> <span class="o">=</span> <span class="no">Twitter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">config</span><span class="o">[</span><span class="s1">'email'</span><span class="o">]</span><span class="p">,</span> <span class="n">config</span><span class="o">[</span><span class="s1">'password'</span><span class="o">]</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">twitter</span><span class="o">.</span><span class="n">timeline</span>
</pre>
</div>


<p>See the <a href="http://github.com/jnunemaker/httparty/tree/master/examples">examples directory</a> for even more goodies.</p>

<h2>Command Line Interface</h2>

<p>httparty also includes the executable <code>httparty</code> which can be
used to query web services and examine the resulting output. By default
it will output the response as a pretty-printed Ruby object (useful for
grokking the structure of output). This can also be overridden to output
formatted XML or JSON. Execute <code>httparty --help</code> for all the
options. Below is an example of how easy it is.</p>

<pre><code>httparty "http://twitter.com/statuses/public_timeline.json"
</code></pre>

<h2>Help and Docs</h2>

<ul>
<li><a href="https://groups.google.com/forum/#!forum/httparty-gem">https://groups.google.com/forum/#!forum/httparty-gem</a></li>
<li><a href="http://rdoc.info/projects/jnunemaker/httparty">http://rdoc.info/projects/jnunemaker/httparty</a></li>
</ul><h2>Contributing</h2>

<ul>
<li>Fork the project.</li>
<li>Make your feature addition or bug fix.</li>
<li>Add tests for it. This is important so I don't break it in a future version unintentionally.</li>
<li>Commit, do not mess with rakefile, version, or history. (if you want to have your own version, that is fine but bump version in a commit by itself in another branch so I can ignore when I pull)</li>
<li>Send me a pull request. Bonus points for topic branches.</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/jnunemaker">jnunemaker</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>